<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Chapter 3. Installing and starting Docserv²</title><link rel="stylesheet" type="text/css" href="static/css/docserv-style.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.2" /><link rel="home" href="index.html" title="Docserv² Guide" /><link rel="up" href="index.html" title="Docserv² Guide" /><link rel="prev" href="terminology.html" title="Chapter 2. Terminology" /><link rel="next" href="config-overview.html" title="Chapter 4. Configuration overview" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 3. Installing and starting Docserv²</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="terminology.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="config-overview.html">Next</a></td></tr></table><hr /></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="install-start"></a>Chapter 3. Installing and starting Docserv²</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="section"><a href="install-start.html#install">Installing Docserv²</a></span></dt><dt><span class="section"><a href="install-start.html#setup-start">Setting up initial configuration and starting Docserv²</a></span></dt><dt><span class="section"><a href="install-start.html#setup-extra">Setting up target sync and email notification</a></span></dt></dl></div><p>This section gives a concise overview of how to install and start Docserv².
However, an integral part of using Docserv² is creating custom configuration.
As such, do not expect a useful installation after following the instructions from this section.
For more information about configuring Docserv², see <a class="xref" href="config-overview.html" title="Chapter 4. Configuration overview">Chapter 4, <em>Configuration overview</em></a>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="install"></a>Installing Docserv²</h2></div></div></div><p>The easiest way to install Docserv² is to install the native RPM package available for openSUSE Leap and openSUSE Tumbleweed.
For example, to install on openSUSE Leap 15.3, use:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Add the <span class="emphasis"><em>Documentation:Tools</em></span> RPM repository:</p><pre class="screen">zypper ar --refresh \
  https://download.opensuse.org/repositories/Documentation:/Tools/openSUSE_Leap_15.3/Documentation:Tools.repo</pre></li><li class="listitem"><p>Install the package: <code class="literal">zypper in docserv</code></p></li></ol></div><p>If you are using any other Linux-based operating system, you can use the Git repository and <code class="literal">pip3</code> to install Docserv².
Docserv² is not compatible with non-Linux operating systems.
For information about alternative installation methods, see the repository <a class="link" href="https://github.com/openSUSE/docserv/#readme" target="_top">readme</a>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="setup-start"></a>Setting up initial configuration and starting Docserv²</h2></div></div></div><p>This section assumes that you have installed the Docserv² RPM package.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Create a directory <code class="literal">/etc/docserv</code>.
Copy the example configuration from <code class="literal">/usr/share/docserv/example/</code> to <code class="literal">/etc/docserv/</code>.</p></li><li class="listitem"><p>Check whether the site configuration file <code class="literal">/etc/docserv/docserv.ini</code> makes sense in your context.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Make sure the <code class="literal">host</code> and <code class="literal">port</code> attributes within the <code class="literal">[server]</code> section are valid.</p></li><li class="listitem"><p>Make sure to disable email functionality via the attribute <code class="literal">enable_mail = no</code> to the <code class="literal">[server]</code> section.</p></li><li class="listitem"><p>Make sure to disable syncing targets is turned off via the attribute <code class="literal">enable_target_sync = no</code> to each <code class="literal">[target_<span class="emphasis"><em>n</em></span>]</code> section.</p></li><li class="listitem"><p>Installing the Docserv² RPM package creates a user account <code class="literal">docserv</code>.
However, this user account may not have a home directory.
Some paths in the default configuration may use the path <code class="literal">/home/docserv/</code>.
Make sure there is a home directory for the <code class="literal">docserv</code> user at <code class="literal">/home/docserv/</code>.</p></li></ul></div></li><li class="listitem"><p>Enable/start the Docker engine: <code class="literal">systemctl enable --now docker.service</code></p></li><li class="listitem"><p>You can now run Docserv².
In the following, <code class="literal">my-site</code> denotes the name of site configuration file, by default, <code class="literal">/etc/docserv/my-site.ini</code>.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>If you are just trying out Docserv², use: <code class="literal">docserv my-site</code></p></li><li class="listitem"><p>You can run Docserv² as a service: <code class="literal">systemctl enable --now docserv@my-site.service</code></p></li></ul></div></li></ol></div><p>If all goes well, you can run a build instruction to build this documentation now.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="setup-extra"></a>Setting up target sync and email notification</h2></div></div></div><p>To simplify initial setup, <a class="xref" href="install-start.html#setup-start" title="Setting up initial configuration and starting Docserv²">the section called “Setting up initial configuration and starting Docserv²”</a> excluded some functionality that depends on tools that need to be set up in addition.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">SSH setup</span></dt><dd><p>  To be able to sync to targets (that is, publication servers), you need to set up passwordless SSH for the <code class="literal">docserv</code> user account to the target.
Create a valid SSH setup for the user <code class="literal">docserv</code> (either by copying existing keys or by using <code class="literal"><span class="strong"><strong>ssh-keygen</strong></span></code>).
Add the public key of the user <code class="literal">docserv</code> to the <code class="literal">authorized_keys</code> file of all relevant targets.
Make an initial SSH connection from the build server to all relevant targets and interactively accept their SSH fingerprint.</p><p>Afterward, you can set the attribute <code class="literal">enable_target_sync</code> to <code class="literal">yes</code> in each <code class="literal">[target_<span class="emphasis"><em>n</em></span>]</code> section.</p></dd><dt><span class="term">Mail setup</span></dt><dd><p>  To be able to receive build failure notifications, make sure the machine has a mail setup that is compatible with <code class="literal">sendmail</code>.
Build failure notifications are sent to the email addresses listed under <code class="literal">&lt;maintainers/&gt;</code> in the product configuration.
Make sure to set up valid addresses in all XML files in the <code class="literal">/etc/docserv/product-config/</code> directory.</p></dd></dl></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="terminology.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="config-overview.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 2. Terminology </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 4. Configuration overview</td></tr></table></div></body></html>